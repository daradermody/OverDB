interface Person {
  id: ID!
  name: String!
  profilePath: String
}

type PersonInfo implements Person {
  id: ID!
  name: String!
  profilePath: String
  knownForDepartment: String
  biography: String
  favourited: Boolean!
}

type CrewCredit implements Person {
  id: ID!
  name: String!
  jobs: [String!]!
  profilePath: String
}

type CastCredit implements Person {
  id: ID!
  name: String!
  character: String!
  profilePath: String
  order: Int!
}

type MovieInfo {
  id: ID!
  title: String!
  tagline: String!
  overview: String!
  voteAverage: Float!
  releaseDate: String
  posterPath: String
  tomatometer: Tomatometer
}

type Movie {
  id: ID!
  title: String!
  tagline: String!
  overview: String!
  voteAverage: Float!
  releaseDate: String
  posterPath: String
  tomatometer: Tomatometer
  watched: Boolean!
  inWatchlist: Boolean!
  sentiment: Sentiment!
}

type MovieCredit {
  id: ID!
  title: String!
  posterPath: String
  releaseDate: String
  watched: Boolean!
  inWatchlist: Boolean!
  sentiment: Sentiment!
  jobs: [String!]!
  character: String
}

union SearchResult = Movie | PersonInfo

enum Sentiment {
  NONE
  LIKED
  DISLIKED
}

type PaginatedMovies {
  offset: Int!
  limit: Int!
  endReached: Boolean!
  results: [Movie!]!
}

enum TomatometerState {
  CERTIFIED_FRESH
  FRESH
  ROTTEN
}

type Tomatometer {
  state: TomatometerState!
  score: Int!
  consensus: String
  link: String!
}

type Stats {
  favouritePeople: Int!
  watched: Int!
  moviesLiked: Int!
  watchlist: Int!
}

type User {
  username: String!
  avatarUrl: String!
  watchlist: [Movie!]!
  watched(offset: Int, limit: Int): PaginatedMovies!
  likedMovies: [Movie!]!
  stats: Stats!
  favouritePeople: [PersonInfo!]!
}

type Query {
  recommendedMovies(size: Int): [Movie!]!
  movie(id: ID!): Movie!
  crewForMovie(id: ID!): [CrewCredit!]!
  castForMovie(id: ID!): [CastCredit!]!
  person(id: ID!): PersonInfo!
  creditsForPerson(id: ID!): [MovieCredit!]!
  search(query: String!): [SearchResult!]!
  trending(size: Int): [MovieInfo!]!
  upcoming: [Movie!]!
  user(username: String!): User!
}

type Mutation {
  setFavourite(id: ID!, favourited: Boolean!): PersonInfo!
  setWatched(id: ID!, watched: Boolean!): Movie!
  setInWatchlist(id: ID!, inWatchlist: Boolean!): Movie!
  setSentiment(id: ID!, sentiment: Sentiment!): Movie!
}
